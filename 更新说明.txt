V1.2.0 v20230301

- 提醒: 对于运行时间较长、用户较多的骰，大幅降低了内存和空间占用
- 提醒: 重做了coc的st指令，现在支持自动db以及武器录入(.st &手枪=1d6)，录卡后可通过 .r 1d4+db 来使用
- 提醒: 加入规则模板机制，通过js注册，自设trpg规则有了更大自由度

- 提醒: 此版本开始，升级程序最低向下兼容的版本为1.0(发布于2022年5月11日)，0.99版本只能先升级到1.1.2再升级1.2
- 提醒: 此版本开始，由于数据库切换，使用老版本备份时需要先删除 data/default 下 data.db 和 data-logs.db
- 提醒: 由于近期QQ的情况，暂不进行自动升级推送，直到gocqhttp更新为止。同时可以尝试一下海豹支持的其他平台。
- 提醒: 此版本开始，海豹的代码仓库开放自由访问 https://github.com/sealdice/sealdice-core


- 新增: 平台 - Dodo 帐号支持
- 新增: 平台 - Minecraft 支持
- 新增: 平台 - TG 帐号支持
- 新增: 指令 - .name 新增大量日文姓名
- 新增: 指令 - .pc list 时列出卡片所属规则 #130
- 新增: 指令 - 在找不到牌组的情况下，将类似的结果列出。类似目前.draw search的效果 #99
- 新增: 指令 - setcoc help展示规则内容，并支持展示自定义规则 #81
- 新增: 指令 - .sn 支持指令自设格式 #133
- 新增: 指令 - jsr和drl指令，这是两个骰池指令，可以通过help查看 PR#25 PR#26
- 新增: 界面 - 海豹News栏目 #64
- 新增: 界面 - ui界面上显示当前架构和os类型 #104
- 新增: 界面 - 牌堆加入版权协议栏 #100
- 新增: 设置 - 戳一戳开关 #76
- 新增: 设置 - .text 只允许管理员或信任用户使用开关 #97
- 新增: 设置 - 忽略好友请求处理开关(每个账号) #96
- 新增: 设置 - <玩家名>外框开关 #127
- 新增: 文案 - .rav文本自定义 #106
- 新增: 文案 - 添加一个新变量来引用.draw后的牌堆名 #107
- 新增: 文案 - .ob 自定义文案 #108
- 新增: JSAPI - 增加base64互相转换的两个函数
- 新增: JSAPI -构造context #89
- 新增: JSAPI - 设置sn名片 applyPlayerGroupCardByTemplate #102
- 新增: JSAPI - 规则模板相关api #113
- 新增: 自定义回复 - 当没有开启自定义回复开关时，UI界面给出明显的提示 #126
- 新增: 自定义回复 - 多支持一种文本匹配方式: 任意符合 #125
- 新增: 自定义回复 - 加入 int() 和 str() 两个函数，可实现类型转换
- 新增: qq平台好友邀请中，如果对方在黑名单上，播报信息上进行额外标注 #98
- 新增: 编写指令时，帮助内容可用函数形式呈现 #82
- 新增: 登录时拟真设备支持 #132

- 重构: 更换底层数据库 bbolt -> sqlite #63
- 重构: 重写了coc的st指令，语法更自由，支持自动计算db和规则模板卡 #79 #111 #124
- 重构: 骰子是否在群内的统计机制，并进行稳定性加固 #131

- 优化: 针对运行超过半年，群组数量较多的骰子，进行内存占用优化 #66
- 优化: 重构染色器，大幅优化性能 #56
- 优化: 修改全文搜索缓存的位置，使其不占用data目录的空间 #69
- 优化: 让 UI:1001 成为默认master #87
- 优化: 对一种骰点式子的中间过程做优化，即.r 1d10，中间过程可省略 #105
- 优化: 自定义文案中，将部分文本向前排列，例如核心名字等 #109
- 优化: 牌堆的 [] 支持嵌套 #84
- 优化: 改进自定义回复的导入支持 #121
- 优化: UI上的升级按钮将只在线上版本比当前版本新时出现 #110
- 优化: 自定义回复的长度项为utf-8长度，而非unicode字符个数 #70
- 优化: 改善 serve.yaml 断电容易丢失的问题 #73
- 优化: 提供自定义技能的自动繁体转换(根据字典转换) #95
- 优化: 将自带的names数据文件名称改为英文，以免部分不带编码识别的解压软件解压出错 #93
- 优化: 改进了kook tg discord 的CQ码支持
- 优化: 大幅降低内存峰值占用
- 优化: 大幅降低磁盘空间占用
- 优化: 更新gocqhttp版本为1.0.0rc4
- 优化: COC主属性更名，魅惑 -> 取悦，驯兽 -> 动物驯养，领航 -> 导航，步枪 -> 霰弹枪

- 修复: 仅当reply开启时，才会响应onNotCommandReceived #58
- 修复: .长休无法识别hpmax #59
- 修复: .rav存在无必要的代骰文本 #83
- 修复: .pc untagall 多次对其他群绑定的角色使用 ，总会显示有绑定 #129
- 修复: .pc tag 留空第二个参数时无法像help中描述的一样解绑角色卡 #78
- 修复: .pc save 在目标角色卡被绑定时，引用的是del的自定义回复（角色管理_删除失败_已绑定），而不是save的（角色管理_储存失败_已绑定） #86
- 修复: 解绑时未自动重置sn名片 #101
- 修复: .bot 群统计准确性优化 #88
- 修复: .bot off时不能后台退群 #77
- 修复: .bot checkupdate 因为延迟，第一次容易刷不出新版本的问题 #75
- 修复: .bot off的群中骰子不会读取master权限，即使被@ #122
- 修复: .bot 指令在正常返回文本后，会在日志中输出一句多余的忽略指令提示 #74
- 修复: .master add 在没有@骰子时不响应 #128
- 修复: .log list 带群号时，始终显示本群log列表 #67
- 修复: .log get 不带参在没有log on时，无任何返回 #71
- 修复: 自定义文案中的 COC:属性设置_保存提醒 触发条件不正确 #80
- 修复: 黑名单目前版本对自定义回复无效 #65
- 修复: 指令测试界面中OnMessageReceived的发送，在指令测试界面不显示回复 #91
- 修复: UI:1001 的消息中，platform空缺，主要影响插件作者 #72
- 修复: 两种基础字符串中不能包含{字符，例如"{1}"不被允许，这是错误的 #123
- 修复: 加载某个deck牌堆失败会阻碍后续牌堆加载 #94
- 修复: 修复偶然情况无法切换端口的问题
- 修复: dnd先攻移除前缀sprintf多一个参数的问题
- 修复: 修改onmessagesend逻辑，可能修复偶然情况下没法调用到的问题


自定义变更:

新增自定义文本:
- 日志:记录_条数提醒
- 日志:OB_开启
- 日志:OB_关闭
- COC:对抗检定
- COC:属性设置_增减_单项 - 建议检查
- 其他:抽牌_找不到牌组_存在类似

修改:
- 日志:记录_开启_失败_尚未新建
- COC:属性设置_保存提醒 - 改动较大，进行了自动重置
- COC:属性设置_增减 - 建议检查


升级指南:

自动方式:
- 1.0.1以上版本，则使用 .master checkupdate自动更新
- 对于1.0.1以下版本，由于CDN问题，只能手动更新
- 对于1.0.0以下版本，请先升级到1.1.2再更新至当前版本

手动方式:
- 解压覆盖
- 对于变更的默认文本，可以在UI界面，复制备份旧的之后点小刷子重置，然后修改文案


额外提醒:
- 出问题阅读一下官网手册的常见问题，也可以加群反馈
- 如果进程连同exe一起消失，看看是不是被360吃掉了
